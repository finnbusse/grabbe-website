# ============================
# SUPABASE CONFIGURATION
# ============================
# Get these values from your Supabase project settings:
# https://app.supabase.com/project/YOUR_PROJECT_ID/settings/api
#
# IMPORTANT: For browser-side access (CMS dashboard), you MUST use NEXT_PUBLIC_ prefix
# Next.js only exposes NEXT_PUBLIC_* variables to the browser
#
# Required (choose ONE naming style):

# Option 1: Standard Next.js naming (recommended)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Option 2: If using Vercel's Supabase integration
# You MUST also set the NEXT_PUBLIC_ versions for browser access:
# SUPABASE_URL=https://your-project-ref.supabase.co
# NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
# SUPABASE_PUBLISHABLE_KEY=your-anon-key-here
# NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-anon-key-here

# REQUIRED: Service role key for server-side admin operations (user creation without email confirmation)
# Get this from: https://app.supabase.com/project/YOUR_PROJECT_ID/settings/api → "service_role" secret
# Only set this in Vercel environment variables, NEVER commit this to git
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
# SUPABASE_SECRET_KEY=your-service-role-key-here  (alternative name)

# Optional: JWT Secret (usually not needed for standard operations)
# SUPABASE_JWT_SECRET=your-jwt-secret

# ============================
# VERCEL BLOB STORAGE (REQUIRED for document upload)
# ============================
# Required for uploading documents, PDFs, images in the CMS
# 
# Setup Instructions:
# 1. Go to Vercel Dashboard → Your Project → Storage tab
# 2. Click "Create Database" → Select "Blob Storage"
# 3. Click "Continue" → "Create"
# 4. Connect to your project
# 5. The BLOB_READ_WRITE_TOKEN will be automatically added
# 6. Redeploy your application
#
# This token is automatically provided by Vercel when you add Blob Storage
# DO NOT set this manually - let Vercel manage it
# BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxx
#
# Documentation: docs/BLOB_STORAGE_SETUP.md
# Diagnostic: https://your-site.com/cms/diagnostic

# ============================
# DATABASE (POSTGRES - Optional)
# ============================
# If using direct Postgres connection (not required for Supabase client)
# POSTGRES_URL=
# POSTGRES_PRISMA_URL=
# POSTGRES_HOST=

# ============================
# SECURITY / RATE LIMITING
# ============================
# Required for brute-force protection on the login endpoint.
# Generate a random string (e.g., openssl rand -hex 32) and keep it secret.
# Used to hash IP addresses and emails before storing them — never stores raw values.
# IP_HASH_SALT=your-random-salt-here

# ============================
# SITE CONFIGURATION (Optional)
# ============================
# NEXT_PUBLIC_SITE_URL=https://your-site.com
# NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL=http://localhost:3000/cms

# ============================
# EMAIL — RESEND
# ============================
# Required for sending emails (password reset, teacher invitations, notifications).
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=
# Sending domain: push.grabbe.site — verify this domain in Resend before use
# See docs/DEPLOYMENT.md for DNS setup instructions (SPF, DKIM)

